{% extends 'base.html.twig' %}

{% block title %}
  {{servicio.svnombre}} proveedores
{% endblock %}

{% block stylesheets %}
  {{ encore_entry_link_tags('app') }}
  <link rel="stylesheet" href="{{ asset('css/cliente/servicios_tipos.css') }}" />
{% endblock %}

{% block body %}
  <div class="container">
  
    {{ include("components/cabecera.html.twig") }}

    <div class="cliente-servicios-container">
      <h3 class="servicio_tipo mb-2">{{servicio.svnombre}}</h3>

      <div class="servicios-tipos-container d-flex flex-column align-items-center overflow-auto" style="max-height: calc(100% - 50px);">
        {% for proveedor in proveedores %}
          <div class="position-relative d-flex align-items-center my-2">
            {% if proveedor.idpersona.pfoto %}
              <figure class="position-absolute">
                <img src="{{ asset("image/" ~ proveedor.idpersona.pfoto) }}" width="105px"/>
              </figure>
            {% else %}
              <figure class="position-absolute">
                <img src="{{ asset("image/perfil.png") }}" width="30%"/>
              </figure>
            {% endif %}
            <div class="servicio-card-detalles">
                <h3>{{ proveedor.idpersona.pnombre }} {{ proveedor.idpersona.papellido }}</h3>
                <h4>&#9733; - / 5</h4> {# Desarrollar funcionalidad#}
                <h5>Ubicaci√≥n: {{ (proveedor.idpersona.pdireccion is null) ? '-' : proveedor.idpersona.pdireccion }} </h5> {# API distancias necesario majorar #}
                <h6>Distrito: {{ (proveedor.idpersona.pdistrito is null) ? '-' : proveedor.idpersona.pdistrito }} </h6> {# Mejorar funcionalidad#}
                <span><a href="{{ path('app_asap_services_entornos_cliente_ver_servicio_ver_detalle_proveedor', {'id': proveedor.idpersona.id }) }}">Ver detalle</a></span>
            </div>
          </div>
        {% else %}
          <div>
              <h5>No hay servicios disponibles.</h5>
          </div>
        {% endfor %}
      </div>
    </div>
    {{ include("components/footer.html.twig") }}
  </div>
{% endblock %}