{% extends 'base.html.twig' %}

{% block title %}
 Tu opinion importa
{% endblock %}

{% block stylesheets %}
  {{ encore_entry_link_tags('app') }}
  <link rel="stylesheet" href="{{ asset('css/cliente/tu_opinion_importa.css') }}" />
  	<link rel="stylesheet" href="{{ asset('css/inicio/vistapc.css') }}"/>

{% endblock %}

{% block body %}
<img class="imagepc" src="{{ asset('/image/Img_PC.png') }}">
	<div class="imagen">
  {# Empieza vista #}

  <div class="container p-3">
    <div class="container">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-3 d-flex justify-content-center"></div>
        <div class="col-6 d-flex justify-content-center">{{ include('components/logo_pequenio.html.twig') }}</div>
        <div class="col-3 d-flex justify-content-center contboton-cerrar">
        <a href="{{ path('app_asap_services_entornos_cliente_inicio') }}">
          <svg xmlns="http://www.w3.org/2000/svg" height="25px" viewbox="0 0 384 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"/></svg>
        </a>
        </div>
      </div>
      {{ form_start(form) }}
      <div class="container rounded-5 contenido-general-tu-opinion-importa">
        <div class="container">
          <div class="row">
            <div class="col-12 titulo-tu-opinion-importa-cliente pt-3 pb-2">Tu opinión nos importa</div>
          </div>
          <div class="row">
            <div class="col-12 texto-tu-opinion-importa-cliente mb-3">Calificanos</div>
          </div>
          <div class="row ">
            <div class="col-12 valoracion-opinion-cliente mb-3">
            {{ form_widget(form.calificacion, { 'attr': {'class': 'rating', 'style': 'display: none;' } }) }}
              <div class="rating">
                <input type="radio" name="rating" id="star1" value="1" />
                <label for="star1">★</label>
                <input type="radio" name="rating" id="star2" value="2" />
                <label for="star2">★</label>
                <input type="radio" name="rating" id="star3" value="3" />
                <label for="star3">★</label>
                <input type="radio" name="rating" id="star4" value="4" />
                <label for="star4">★</label>
                <input type="radio" name="rating" id="star5" value="5" />
                <label for="star5">★</label>
              </div>
            </div>
          </div>
          <div class="row d-flex justify-content-center">
            <div class="col-12 contenido-valoracion-cliente mb-3">
              {{ form_widget(form.opinion, {'attr': {'class': 'rounded-4 p-2', 'style': 'width: 100%;', 'cols': '30', 'rows': '8' }}) }}
            </div>
          </div>
          <div class="row contenido-boton-enviar-valoracion">
            <div class="col-10">
              <button type="submit" class="btn col-12 boton-enviar-valoracion">Enviar</button>
            </div>
          </div>
        </div>
      </div>
      {{ form_end(form) }}
    </div>
  </div>
  </div>
  <script>
    const ratingInputs = document.querySelectorAll('input[name="rating"]')
    ratingInputs.forEach((input) => {
      input.addEventListener('change', () => {
        const rating = input.value
        ratingInputs.forEach((star, index) => {
          if (index < rating) {
            star.nextElementSibling.style.color = '#ffcc00'
          } else {
            star.nextElementSibling.style.color = '#ccc'
          }
        })
      })
    })
    
    document.querySelectorAll('[id^="star"]').forEach(input => {
    input.addEventListener('click', (event) => {
        const value = event.target.getAttribute('value');
        document.querySelector('.rating').value = value;
    });
});
  </script>
  {{ include('components/footer.html.twig') }}
{% endblock %}
